<!DOCTYPE html>
<html>
<html xmlns:th="http://www.thymeleaf.org">
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Powerful | 添加订单</title>

    <link rel="stylesheet" href="https://www.jq22.com/jquery/bootstrap-3.3.4.css">
    <link rel="stylesheet" href="https://www.jq22.com/jquery/font-awesome.4.6.0.css">
    <link href="css/animate.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">


    <link href="css/plugins/toastr/toastr.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <script type="text/javascript" src="js/jquery.min.js"></script>
</head>

<body>

    <div id="wrapper">

    <nav th:replace="index::#left_nav1">
    </nav>

        <div id="page-wrapper" class="gray-bg">
        <div class="row border-bottom">
        <nav th:replace="index::#left_nav2">

        </nav>
        </div>
            <div class="row wrapper border-bottom white-bg page-heading">
                <div class="col-lg-10">
                    <h2>新增订单</h2>
                    <ol class="breadcrumb">
                        <li>
                            <a href="main/index.html">主页</a>
                        </li>
                        <li>
                            <a>账单管理</a>
                        </li>
                        <li class="active">
                            <strong>新增订单</strong>
                        </li>
                    </ol>
                </div>
                <div class="col-lg-2">

                </div>
            </div>
        <div class="wrapper wrapper-content  animated fadeInRight">
            <div class="row">
                <div class="col-lg-6">
                    <div class="ibox ">
                        <div class="ibox-title">
                            <h5>添加订单</h5>
                        </div>
                        <div class="ibox-content screen-window">
                            <!--<h2>-->
                                <!--jQuery Validation Plugin - Form validation made easy-->
                            <!--</h2>-->
                            <!--<p>-->
                                <!--The jQuery Validation Plugin provides drop-in validation for your existing forms, while making all kinds of customizations to fit your application really easy.-->
                            <!--</p>

                                <p class="font-bold">Example form with custom validation on each form control</p>-->
                                <form role="form" id="frm1" method="post" action="add_bill">

                                    <div class="form-group"><label>供应商</label> <select id="provider" class="select2_demo_1 form-control verification" name="pid">
                                        <option  value="">请选择</option>
                                        <option  th:value="${pl.pid}" th:each="pl:${plist}" th:text="${pl.provider_name}"></option>
                                </select>
                                        <span id="pdprompt"></span>
                                    </div>
                                    <div class="form-group"><label>商品名称</label> <input  type="text" placeholder="输入商品名称" class="form-control verification" id="bill_name" name="bill_name">
                                        <span id="nameprompt"></span>
                                    </div>
                                    <div class="form-group"><label>订单数</label> <input type="text" placeholder="输入订单数" class="form-control verification" id="bill_num" name="bill_num">
                                        <span id="numprompt"></span>
                                    </div>
                                    <div class="form-group"><label>总金额</label> <input  type="text" placeholder="输入总金额" class="form-control verification" id="money" name="money">
                                        <span id="moneyprompt"></span>
                                    </div>
                                    <div class="form-group"><label>是否付款</label>
                                        <select class="select2_demo_1 form-control verification" name="pay" id="pay">
                                                <div >
                                                    <option  value="0" >未付款</option>
                                                    <option  value="1" >已付款</option>
                                                    <option  value="2" >付款中</option>
                                                </div>
                                            <span id="payprompt"></span>
                                        </select>
                                    </div>
                                    <div class="form-group"><label>使用时期单位:</label>
                                        <select class="select2_demo_1 form-control verification" name="bill_com" id="bill_com">
                                            <option th:value="年" >年</option>
                                            <option th:value="月" >月</option>
                                        </select>
                                        <span id="comprompt"></span>
                                        </div>
                                    <div>
                                        <button class="btn btn-sm btn-primary m-t-n-xs" type="button" id="sbt"><strong>添加</strong></button>
                                        <a href="javascript:history.back(-1)"><button class="btn btn-sm btn-primary m-t-n-xs" type="button"><strong>返回</strong></button></a>

                                    </div>
                                </form>
                        </div>
                    </div>


                </div>

            </div>

        </div>
        <div class="footer">
            <div class="pull-right">
                10GB of <strong>250GB</strong> Free.
            </div>
            <div>
                <strong>Copyright</strong> Example Company &copy; 2014-2015
            </div>
        </div>

        </div>
        </div>



    <!-- Mainly scripts -->
    <script src="js/jquery-2.1.1.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/plugins/metisMenu/jquery.metisMenu.js"></script>
    <script src="js/plugins/slimscroll/jquery.slimscroll.min.js"></script>

    <!-- Custom and plugin javascript -->
    <script src="js/inspinia.js"></script>
    <script src="js/plugins/pace/pace.min.js"></script>

    <script src="https://www.jq22.com/jquery/jquery-ui-1.11.0.js"></script>

    <!-- Jquery Validate -->
    <script src="js/plugins/validate/jquery.validate.min.js"></script>


    <!-- EayPIE -->
    <script src="js/plugins/easypiechart/jquery.easypiechart.js"></script>

    <!-- Sparkline -->
    <script src="js/plugins/sparkline/jquery.sparkline.min.js"></script>

    <!-- Sparkline demo data  -->
    <script src="js/demo/sparkline-demo.js"></script>

    <!-- Toastr -->
    <script src="js/plugins/toastr/toastr.min.js"></script>

    <script>

         $("#sbt").click(function () {
             if($("#provider").val()==""){
                 $("#provider").css("border","1px solid red")
                 $("#pdprompt").html("请选择供应商");
                 $("#pdprompt").css("color","red");
                 return false;
             }
             if($("#bill_name").val()==""){
                 $("#nameprompt").html("请输入账单名称");
                 $("#nameprompt").css("color","red");
                 return false;
             }
             if($("#bill_num").val()==""){
                 $("#numprompt").html("请输入订单数量");
                 $("#numprompt").css("color","red");
                 return false;
             }
             if($("#money").val()==""){
                 $("#moneyprompt").html("请输入价格");
                 $("#moneyprompt").css("color","red");
                 return false;
             }
             if($("#pay").val()==""){payprompt
                 $("#payprompt").html("请选择账单状态");
                 $("#payprompt").css("color","red");
                 return false;
             }
             if($("#bill_com").val()==""){
                 $("#comprompt").html("请输入使用日期单位");
                 $("#comprompt").css("color","red");
                 return false;
             }
             $.ajax({
                 url:"add_bill",//提交地址
                 data:$("#frm1").serialize(),//将表单数据序列化
                 type:"POST",
                 dataType:"json",
                 success:function(result){
                     if (result==1){
                         setTimeout(function() {
                             toastr.options = {
                                 closeButton: true,
                                 progressBar: true,
                                 showMethod: 'slideDown',
                                 timeOut: 4000
                             };
                             toastr.success('添加成功');
                         }, 1300);
                         $(".screen-window form input").each(function(){
                             $(this).val('');
                         });
                         $(".screen-window form select").each(function(){
                             $(this).val('');
                         });
                     }else{
                         alert("失败！");
                     }
                 }
             });

         })


    </script>

</body>

</html>
